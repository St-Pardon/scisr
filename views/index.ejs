<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="assets/icons8-barber-scissors-96.png" type="image/png">
    <title>Scisr</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="header">
      <div>
        <h3>
          <img
            src="assets/icons8-barber-scissors-96.png"
            class="logo"
            alt="scisr logo"
          />
          Scisr
        </h3>
      </div>
      <% if (url.user){ %>
      <nav class="nav">
        <img src=<%=url.user.dp%> alt="dp" width="40px">
        <p><%=url.user.name%></p>
        <a href="/auth/logout"><p>Logout</p></a>
      </nav>
      <% } %>
      <% if (!url.user){ %>
      <nav class="nav">
        <a href="https://documenter.getpostman.com/view/18352130/2s93sjUUX7" target="_blank"><p>Docs</p></a>
        <a href="/auth/login"><button class="signin">Sign in</button></a>
      </nav>
      <% } %>

      <!-- // auth username and photo -->
    </header>
    <main style="margin-top: 30px;">
      <section class="intro">
        <img
          class="hero"
          src="assets/link-shortener.svg"
          alt="url shortnener illustration"
        />
        <h1>URL too long? don't worry <span>Scisr</span> got you covered.</h1>
        <p>
          Experience first hand the seamless new technology for shrinking your
          url and mointoring it's performance with our innovative and customer
          driven analytic tools
        </p>
      </section>
      <% if (!url.res) { %>
      <form class="form" action="/" method="post">
        <fieldset>
          <input type="text" name="original_url" id="url" placeholder="Enter the url" />
          <button>
            <svg
              height="40px"
              width="40px"
              version="1.1"
              id="_x32_"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 512 512"
              xml:space="preserve"
              fill="#b14ea9"
              stroke="#b14ea9"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                id="SVGRepo_tracerCarrier"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <style type="text/css">
                  .st0 {
                    fill: #67285e;
                  }
                </style>
                <g>
                  <path
                    class="st0"
                    d="M143.155,241.403c-5.379,0.154-11.094-0.285-14.076-2.271c-2.983-1.979-6.578-7.847-10.202-12.571 c-16.96-22.075-47.036-31.308-74.281-20.702c-33.079,12.87-49.447,50.13-36.57,83.201c12.877,33.079,50.122,49.454,83.201,36.577 c16.354-6.369,28.612-18.703,35.281-33.546c1.122-2.508,1.742-3.916,3.644-5.783c1.909-1.868,5.79-3.053,8.899-3.694 c18.257-3.77,33.594-3.902,46.429-1.958l2.258-6.104c0.725-2.028,5.15-14.473,11.686-32.785 C184.268,241.919,162.443,240.846,143.155,241.403z M80.511,298.125c-17.874,6.954-38.012-1.895-44.974-19.776 c-6.954-17.88,1.896-38.012,19.769-44.973c17.881-6.968,38.012,1.889,44.981,19.762C107.241,271.018,98.391,291.157,80.511,298.125 z"
                  ></path>
                  <path
                    class="st0"
                    d="M507.47,169.171c-3.777-9.714-15.386-10.788-44.151-3.31c-15.581,4.049-87.598,25.706-150.424,44.73 c-6.195,32.221-11.79,61.139-15.066,78.03c63.886-30.674,161.908-77.884,179.342-87.145 C503.429,187.525,511.261,178.884,507.47,169.171z"
                  ></path>
                  <path
                    class="st0"
                    d="M303.649,392.949c-5.073-3.114-11.282-6.076-13.568-8.836c-2.278-2.767-3.31-8.404-3.714-13.77 c-1.993-26.298-7.526-57.056-6.836-69.473c0,0,44.179-227.416,48.618-256.808c4.438-29.4,2.16-40.827-7.888-43.58 c-10.055-2.745-17.832,5.938-28.974,33.497c-11.135,27.567-88.824,245.812-88.824,245.812s51.175,20.298,43.336,98.929 c-0.314,3.15-1.087,7.136-2.746,9.226c-1.658,2.098-2.989,2.857-5.365,4.237c-14.069,8.167-25.058,21.651-29.685,38.583 c-9.365,34.235,10.801,69.578,45.029,78.944c34.242,9.358,69.585-10.808,78.943-45.043 C339.688,436.466,327.368,407.513,303.649,392.949z M243.749,280.28c-6.481-1.77-10.299-8.452-8.522-14.933 c1.77-6.48,8.452-10.299,14.933-8.529c6.481,1.777,10.292,8.466,8.522,14.94C256.912,278.238,250.223,282.049,243.749,280.28z M303.495,456.876c-5.059,18.507-24.166,29.406-42.674,24.347c-18.508-5.059-29.406-24.166-24.347-42.674 c5.059-18.508,24.173-29.406,42.674-24.34C297.656,419.262,308.554,438.375,303.495,456.876z"
                  ></path>
                </g>
              </g>
            </svg>
          </button>
        </fieldset>
        <div id="check">
          <input type="checkbox" name="custom" id="custom" />
          <label for="custom">Use custom url path</label>
        </div>
        <div class="phrase">
          <label for="phrase">Enter your custorm word</label>
          <input
            type="text"
            name="phrase"
            id="phrase"
            placeholder="eg. lunch, meet, fest"
          />
        </div>
      </form>
      <% } %>
      <section class="result">
      <% if (url.res) { %>
        <figure class="qrcode">
          <img src=<%=url.res.qrcode%> alt="qrcode" />
          <a href=<%=url.res.qrcode%> type="image/png" download="qrcode.png"
            ><figcaption><img src="assets/file-download-svgrepo-com.svg" alt="download" class="icon"> Download</figcaption>
          </a>
        </figure>
        <div class="shortened">
          <p class="s_url"><%=url.res.shortened_url%></p>
          <i class="copy"><img src="assets/copy-svgrepo-com.svg" alt="copy" title="copy" class="icon"></i>
        </div>
        <% if (url.user) { %>
        <div style="text-align: center;">
          <a href="/"><button class="btn his-btn">View history</button></a>
        </div>
        <% } %>
        <% if (!url.user) { %>
        <div style="text-align: center;">
          <a href="/auth/login"><button class="btn his-btn">Signup to see analytics</button></a>
        </div>
        <% } %>
      <% } %>
      </section>
      <section  class="history">
      <% if (url.user) { %>
      <% if ( url.history.length > 0) { %>
        <table>
          <colgroup>
            <col span="1" style="width: 20%;">
            <col span="1" style="width: 25%;">
            <col span="1" style="width: 20%;">
            <col span="1" style="width: 5%;">
            <col span="1" style="width: 15%;">
            <col span="1" style="width: 15%;">
            <col span="1" style="width: 15%;">
          </colgroup>
          <thead>
            <tr>
              <th>QRCode</th>
              <th class="long">Original URL</th>
              <th>Shortnened URL</th>
              <th>Clicks</th>
              <th>Date Created</th>
              <th>Details</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody>
            <% url.history.forEach(function(url){ %>
              <tr>
                <td><img src=<%= url._doc.qrcode %> alt="qrcode"> </td>
                <td class="long"><a href=<%= url._doc.original_url %> target="_blank"><p><%= url._doc.original_url %></p></a></td>
                <td><a href=<%= url._doc.shortened_url %> target="_blank"><%= url._doc.shortened_url %></a></td>
                <td><%= url._doc.clicks %></td>
                <td><%= url.moment %></td>
                <td><a href='/analytics/<%= url._doc._id %>'><button class="btn">More</button></a></td>
                <td><svg class="del" fill="#ff0000" version="1.1" id="<%= url._doc._id %>" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                  width="20px" height="20px" viewBox="0 0 408.483 408.483"
                  xml:space="preserve">
               <g>
                 <g>
                   <path d="M87.748,388.784c0.461,11.01,9.521,19.699,20.539,19.699h191.911c11.018,0,20.078-8.689,20.539-19.699l13.705-289.316
                     H74.043L87.748,388.784z M247.655,171.329c0-4.61,3.738-8.349,8.35-8.349h13.355c4.609,0,8.35,3.738,8.35,8.349v165.293
                     c0,4.611-3.738,8.349-8.35,8.349h-13.355c-4.61,0-8.35-3.736-8.35-8.349V171.329z M189.216,171.329
                     c0-4.61,3.738-8.349,8.349-8.349h13.355c4.609,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.737,8.349-8.349,8.349h-13.355
                     c-4.61,0-8.349-3.736-8.349-8.349V171.329L189.216,171.329z M130.775,171.329c0-4.61,3.738-8.349,8.349-8.349h13.356
                     c4.61,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.738,8.349-8.349,8.349h-13.356c-4.61,0-8.349-3.736-8.349-8.349V171.329z"/>
                   <path d="M343.567,21.043h-88.535V4.305c0-2.377-1.927-4.305-4.305-4.305h-92.971c-2.377,0-4.304,1.928-4.304,4.305v16.737H64.916
                     c-7.125,0-12.9,5.776-12.9,12.901V74.47h304.451V33.944C356.467,26.819,350.692,21.043,343.567,21.043z"/>
                 </g>
               </g>
               </svg></td>
              </tr>
            <% }); %>
          </tbody>
        </table>
        <%} else {%>
          <p style="text-align: center; font-size: 1.2rem;">You have no shortened url yet</p>
        <%} %>
      <%} %>
    </section>
      <section class="feature">
        <% if (!url.user) { %>
          <h3 class="title">Features</h3>
          <Article>
            <div class="cards">
              <figure class="fig">
                <img src="assets/world-wide-web.svg" alt="world wide web link Shortnened">
              </figure>
              <div>
                <h3>URL Shortening</h3>
                <p>Scisr allows users to shorten URLs by pasting a long URL into the Scisr platform and a shorter URL gets automatically generated. The shortened URL is designed to be as short as possible, making it easy to share on social media or through other channels.</p>
              </div>
            </div>
            <div class="cards">
              <figure class="fig">
                <img src="assets/link.svg" alt="link icon">
              </figure>
              <div>
                <h3>Custom URLs</h3>
                <p>Scisr also allows users to customize their shortened URLs. Users can choose their own custom path name and customize the URL to reflect their brand or content. This feature is particularly useful for individuals or small businesses who want to create branded links for their company, event or organnizations.</p>
              </div>
            </div>
            <div class="cards">
              <figure class="fig">
                <img src="assets/qrcode.svg" alt="qrcode icon">
              </figure>
              <div>
                <h3>QR Code Generation</h3>
                <p>Scisr allows users to also generate QR codes for the shortened URLs. Users can download the QR code image and use it in their promotional materials or/and on their website. This feature will be implemented using a third-party QR code generator API, which can be integrated into the Scisr platform.</p>
              </div>
            </div>
            <div class="cards">
              <figure class="fig">
                <img src="assets/money-graph-analytics-business-product-graph-data-chart-analysis.svg" alt="analytic graph">
              </figure>
              <div>
                <h3>Analytics</h3>
                <p>Scisr provides basic analytics that allow users to track their shortened URL's performance. Users can see how many clicks their shortened URL has received and where the clicks are coming from. We need to track when a URL is used.</p>
              </div>
            </div>
            <div class="cards">
              <figure class="fig">
                <img src="assets/history.svg" alt="history icon">
              </figure>
              <div>
                <h3>Link History</h3>
                <p>Scisr allows users to see the history of links they've created so they can easily find and reuse links they have previously created</p>
              </div>
            </div>
          </Article>
        <%} %>
      </section>
    </main>
    <footer class="footer">
      <p>
        <a href="https:st-pardon.netlify.app">St. Pardon</a> &copy; 2023. All
        Rights Reserved
      </p>
    </footer>
    <script src="index.js"></script>
  </body>
</html>
